(self.modernJsonp=self.modernJsonp||[]).push([["42985"],{237453:function(e,t,i){i.r(t),i.d(t,{default:()=>a});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"DrawerImageGroup_board",selections:[{args:null,kind:"FragmentSpread",name:"SendBoardButton_board"}],type:"Board",abstractKey:null};n.hash="0e2c441822700a6145ea7cd142c0425b";let a=n},608649:function(e,t,i){i.r(t),i.d(t,{default:()=>a});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"DrawerImageGroup_coverPin",selections:[{alias:null,args:null,kind:"ScalarField",name:"imageUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"crop",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"size",storageKey:null}],type:"CoverPin",abstractKey:null};n.hash="35b139c2e951baaa6624b30e45f913ce";let a=n},980360:function(e,t,i){var n;i.r(t),i.d(t,{default:()=>o});let a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"FollowButton_pin",selections:[{alias:null,args:null,concreteType:"Domain",kind:"LinkedField",name:"linkDomain",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"officialUser",plural:!1,selections:n=[{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageMediumUrl",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nativeCreator",plural:!1,selections:n,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"originPinner",plural:!1,selections:n,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:n,storageKey:null}],type:"Pin",abstractKey:null};a.hash="cabaa35ed7d59dee006897bf3ef32e3d";let o=a},423347:function(e,t,i){i.r(t),i.d(t,{default:()=>a});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"SendBoardButton_board",selections:[{args:null,kind:"FragmentSpread",name:"SendBoardFlyout_board"}],type:"Board",abstractKey:null};n.hash="8d95294efe15498023c69669c6a41e71";let a=n},452525:function(e,t,i){i.r(t),i.d(t,{default:()=>a});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"SendBoardFlyout_board",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageCoverUrl",storageKey:null}],type:"Board",abstractKey:null};n.hash="f459445ee8d1ea0db022e490ef5a2e80";let a=n},97484:function(e,t,i){i.d(t,{Dv:()=>o,Ml:()=>r,Oc:()=>n,mv:()=>a});let n=16,a=4,o={SAVED:"rgba(0, 0, 0, 0.33)",VISUAL:"rgba(0, 0, 0, 0.1)",LEGO_WASH:"rgba(0, 0, 0, 0.4)"},r=120},947543:function(e,t,i){i.d(t,{Z:()=>a});var n=i(274320);function a(e){let{expName:t,anyEnabled:i,group:a}=function({experimentsClient:e,skipActivation:t}){let{checkExperiment:i}=e,n=i("web_masonry_v2",{dangerouslySkipActivation:t});return n.group?{expName:"web_masonry_v2",...n}:{expName:"",anyEnabled:!1,group:""}}({experimentsClient:(0,n.r)(),skipActivation:e?.skipActivation??!1});return{expName:t,anyEnabled:i,group:a,isMeasureAllEnabled:"enabled_measure_all"===a||"enabled_measure_all_impression_fix"===a,isImpressionFixEnabled:"control_impression_fix"===a||"enabled_impression_fix"===a||"enabled_measure_all_impression_fix"===a}}},351607:function(e,t,i){i.d(t,{ZP:()=>f,Fw:()=>v});var n=i(667294),a=i(915493),o=i(657043),r=i(603316);async function l(e,t,i,n,l,s,d,c,u){let p,{appType:m,osType:g}=s||{},h="",y="";if(["Pin","pinImpressions"].includes(e)&&t&&(n||c||u)){(0,r.nP)("webapp.arapi.view.funnel",{sampleRate:.1,tags:{status:"start",appType:m,osType:g}});try{if(!window.document.featurePolicy?.allowsFeature("attribution-reporting"))return void(0,r.nP)("webapp.arapi.view.funnel",{sampleRate:.1,tags:{status:"skipped",message:"attribution-reporting is not enabled",appType:m,osType:g}});h=(0,a.Z)(i,[n,c,u],!1,l,d);try{y=new URL(window.location.href).hostname}catch(e){(0,r.nP)("webapp.arapi.view.funnel",{sampleRate:.1,tags:{status:"hostname_parse_failed",href:window&&window.location&&window.location.href}})}if(y&&"www.pinterest.com"!==y)document.createElement("img").setAttribute("attributionsrc",h),(0,r.nP)("webapp.arapi.view.funnel",{sampleRate:.1,tags:{status:"international",appType:m,osType:g,hostname:y}});else if(!(p=await window.fetch(h,{keepalive:!0,attributionReporting:{eventSourceEligible:!0,triggerEligible:!1}})).ok)throw Error("server request failed.");(0,r.nP)("webapp.arapi.view.funnel",{sampleRate:.1,tags:{status:"success",appType:m,osType:g}})}catch(e){(0,r.nP)("webapp.arapi.view.funnel",{sampleRate:.1,tags:{status:"failed",error:(0,o.Z)(e,"name"),message:(0,o.Z)(e,"message"),appType:m,osType:g,hostname:y,responseStatus:p&&p.status}})}}else(0,r.nP)("webapp.arapi.view.funnel",{sampleRate:.1,tags:{status:"missing_param",appType:m,osType:g}})}var s=i(293565),d=i(980787),c=i(947543),u=i(816358),p=i(15667),m=i(647709),g=i(792171),h=i(370347),y=i(183152);let _={ActivationCard:{impressionType:"activationCardImpressions",idType:"experienceIdStr",eventType:8547},Article:{impressionType:"articleImpressions",idType:"articleIdStr",eventType:3829},Banner:{impressionType:"bannerImpressions",idType:"userIdStr",eventType:9061},Board:{impressionType:"boardImpressions",idType:"boardIdStr",eventType:3700},Comment:{impressionType:"commentImpressions",idType:"commentIdStr",eventType:9127},Guide:{impressionType:"guideImpressions",idType:"term",eventType:7573},Interest:{impressionType:"topicImpressions",idType:"topicIdStr",eventType:3703},News:{impressionType:"newsHubData",idType:"newsIdStr",eventType:4110},OneBar:{impressionType:"oneBarImpressions",idType:"onebarIdStr",eventType:9993},Pin:{impressionType:"pinImpressions",idType:"pinIdStr",eventType:18},Search:{impressionType:"searchImpressions",idType:"term",eventType:3803},Story:{impressionType:"storyImpression",idType:"idStr",eventType:170},TodayArticle:{impressionType:"todayArticleImpressions",idType:"todayArticleIdStr",eventType:8569},User:{impressionType:"userImpressions",idType:"userIdStr",eventType:3704},AdsPreview:{impressionType:"AdsPreviewImpression",idType:"AdsPreviewStr",eventType:8600},BoardMoreIdeasRep:{impressionType:"boardMoreIdeasFeedUpsellImpressions",idType:"boardIdStr",eventType:10054},Notification:{impressionType:"notificationDetailImpressions",idType:"newsIdStr",eventType:4111},NotificationFeed:{impressionType:"notificationFeedImpressions",idType:"newsIdStr",eventType:4110},EditorialBoard:{impressionType:"editorialBoardImpressions",idType:"boardIdStr",eventType:3700},VaseAnnotation:{impressionType:"vaseAnnotationImpressions",idType:"vaseAnnotationUrlStr",eventType:16444}},w=({events:e,startTime:t,endTime:i})=>e?.filter(e=>e>=t&&e<=i)||[];function f({carouselData:e,closeupImpressionType:t,closeupNavigationType:i,componentType:a,contextLogData:o,clientTrackingParams:f,duploShouldTrackPinEvents:v,elementType:b,impressionAuxFields:x,inImpressionExp:T,impressionType:I,impressionsFramework:P,isPaused:S,loggingId:j,objectIdStr:k,slotIndex:A,trackCarousel:D,viewData:F,viewParameter:Z,viewType:C,isPromoted:E,storyPinProductEventData:B}){let{logContextEvent:z}=(0,d.u)(),{logMrcVideoAdEventOnPlay:L}=(0,g.H)(),{userAgent:{browserName:R}}=(0,p.B)(),{logStat:U}=(0,h.Yg)(),H=P||u.Z,O=(0,n.useRef)(null),N=(0,n.useRef)(e=>{});N.current=n=>{let r=_[I],d=r.idType,c={clientTrackingParams:f,endTime:n.endTime,[d]:j,slotIndex:A,time:n.startTime,renderDuration:n.endTime-n.startTime,type:t,...x,forcedExit:"removed"===n.forcedExit?0:void 0};if("Pin"===I){let e=[],t=n.visibleEvents||new Map,i=n.hiddenEvents||new Map;if((x&&x.isPromoted||E)&&[1,50,80,2,102].forEach(a=>{let o=w({events:t.get(a),startTime:n.startTime,endTime:n.endTime}),r=w({events:i.get(a),startTime:n.startTime,endTime:n.endTime});o.forEach(t=>{e.push({type:a,time:t||0,visible:!0})}),r.forEach(t=>{e.push({type:a,time:t||0,visible:!1})})}),c={...c,pinCellWidth:n.pinCellWidth||0,pinCellHeight:n.pinCellHeight||0,windowWidth:window?.innerWidth,windowHeight:window?.innerHeight,visibleEvents:e.sort((e,t)=>e.time-t.time)},(0,s.i7)(R)&&x&&x.isPromoted){let{attributionSourceId:e,isPromoted:t,link:i,campaignId:n,araAuxData:a,advertiserId:o,domain:r,adDestinationUrl:s}=x;l(I,t??null,e??null,i??null,n??null,a??null,o??null,r??null,s??null)}}let u={component:a,object_id_str:k,view_type:C,view_data:F||{},view_parameter:Z};if(D)e&&D&&z({event_type:7352,event_data:{pinCarouselSlotImpressions:[{...c,..."canonical"===e.type?{carouselDataId:Number(e.carouselId??0),slotIndex:e.index,carouselSlotId:e.carouselSlots?.[e.index??0]&&Number(e.carouselSlots[e.index??0].slotId)}:{carouselDataId:Number(e.id??0),carouselSlotId:e.carousel_slots?.[e.index??0]&&Number(e.carousel_slots[e.index??0].id),slotIndex:e.index}}]},...u,aux_data:{...o}});else{let e={clientTrackingParams:f,event_type:r.eventType,...u,element:b,event_data:{[r.impressionType]:"Story"===I?c:[c],...B?{storyPinProductEventData:B}:{}},aux_data:{closeup_navigation_type:i,...o}};z(e),L(e)}v&&U("log_pin_impression")};let{expName:K,group:M}=(0,c.Z)({skipActivation:!0}),G=(0,m.ZP)(),W=(0,y.Zv)(),{isAuthenticated:J}=(0,p.B)(),V=(0,n.useCallback)(()=>{let e=!1;try{let{current:t}=O;if(t instanceof HTMLElement&&(!E||t.getElementsByTagName("img").length>0)){let i=H.start(t);i.onExitViewport(N.current).setDebugId(j||"unknown"),v&&i.onEnterViewport(()=>{U("log_pin_impression_track_enter_viewport")}),e=!0,M&&(0,r.nP)("webapp.masonry.trackImpression",{tags:{callsite:"app_packages_useImpressionTracker",deviceType:G,experimentName:K,group:M,handlerId:W,isAuthenticated:J,slotIndex:A??"unknown"}})}}catch{window.console.error('Can only track impressions for type "HTMLElement"')}v&&U("log_pin_impression_track",{didStartTracking:e})},[O.current]);return(0,n.useEffect)(()=>(T&&!H.inExperiment&&H.setExperimentStatus(!0),S||V(),()=>{let{current:e}=O;e instanceof HTMLElement&&(!E||e.getElementsByTagName("img").length>0)&&H.stop(e)}),[S,V]),O}let v=({children:e,...t})=>e({impressionTrackerRef:f(t)})},607001:function(e,t,i){i.d(t,{Z:()=>o});var n=i(417162),a=i(929915);let o=()=>{let e=(0,n.g)(),t=(0,a.l)();return i=>{let{mobileOptions:n,desktopOptions:a,reason:o,attributionLabel:r,pinId:l,savePinImageUrl:s}=i;e?e.showDesktopSignupModal({signupFlow:a?.modalType==="login"?{type:"login"}:{type:"signup"},reason:o,attributionLabel:r,savePinId:l,savePinImageUrl:s,...a?.modalOptions}):t&&t.showMobileSignupModal({reason:o,attributionLabel:r,headingType:n?.headingType??"none",pinId:l,savePinImageUrl:s})}}},84173:function(e,t,i){i.d(t,{X:()=>a,Z:()=>o});var n=i(667294);let a=120;function o(e,t=0,i=a){let[r,l]=(0,n.useState)(e?"active":"inactive");return(0,n.useEffect)(()=>{if(e)if(t){let e=setTimeout(()=>l("active"),t);return()=>{clearTimeout(e)}}else l("active");else{let e=setTimeout(()=>l("inactive"),i);return()=>{clearTimeout(e)}}},[e]),r}},483858:function(e,t,i){i.d(t,{Z:()=>l});var n=i(281098),a=i(20256),o=i(84173),r=i(785893);function l({children:e,fadeInDuration:t=0,fadeOutDuration:i=o.X,visibility:l}){return((0,n.Z)("FadeableContainer","/app/www/AuthDesktopPinRep/components/FadeableContainer.tsx"),"none"!==l&&e)?(0,r.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{hidden:{opacity:0,transition:i?`opacity ${i}ms ease`:void 0},visible:{opacity:1,transition:t?`opacity ${t}ms ease`:void 0}}[l]},children:e}):null}},38817:function(e,t,i){i.d(t,{Z:()=>k});var n,a=i(281098),o=i(667294);i(167912);var r=i(20256),l=i(521009),s=i(821342),d=i(28427),c=i(19585),u=i(675973),p=i(607001),m=i(941404),g=i(572227),h=i(87853),y=i(741155),_=i(334536),w=i(647709),f=i(341742),v=i(732347),b=i(352908),x=i(793698),T=i(400741),I=i(151594),P=i(785893);let S=({children:e,pulsar:t,testId:i})=>t.show?(0,P.jsx)(r.xu,{"data-test-id":i,position:"relative",children:(0,P.jsxs)(r.iP,{onTap:t.onClick,tapStyle:"none",children:[(0,P.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{marginLeft:"-75px"}},marginTop:-5,position:"absolute",children:e}),(0,P.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{marginLeft:"-83px"}},marginTop:-12,position:"absolute",children:(0,P.jsx)(r.o3,{})})]})}):(0,P.jsx)(r.xu,{"data-test-id":i,children:e}),j=(void 0!==n||(n=i(980360)).hash&&"cabaa35ed7d59dee006897bf3ef32e3d"!==n.hash&&console.error("The definition of 'FollowButton_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),n);function k({auxData:e,disabled:t,disableLog:i,followEventType:n,id:k,inline:A,invertColors:D,isFollowed:F,isIdeaPin:Z,isLegoEnabled:C,isSecondaryButton:E,isUserFollowButton:B,isUserMe:z,onFollow:L,onUnfollow:R,pinKey:U,shouldUseLegoColors:H,showPulsar:O,size:N,textType:K="FollowFollowing",unfollowEventType:M,viewParameter:G,viewType:W,clientTrackingParams:J}){let V;(0,a.Z)("FollowButton","/app/www/FollowButton.tsx");let q=(0,c.Z)(),X=(0,w.HG)(),{showToast:$}=(0,h.dI)(),Y=(0,g.Z)(),Q=(0,l.Z)(),ee=(0,p.Z)(),{checkExperiment:et}=(0,u.Z)(),ei=(0,b.Z)(),en=(0,s.Z)(),ea=en&&en.isAuth,{unauthFollowUserId:eo,setUnauthFollowUserId:er}=(0,I.A)(),el=(0,x.mN)()(k),es=(0,y.Z)(),[ed,ec]=(0,o.useState)(F),eu=el&&{imageMediumUrl:el.image_medium_url,username:el.username},ep=(0,d.Z)(j,U),em=ep?.linkDomain,eg=ep?.nativeCreator,eh=ep?.originPinner,ey=ep?.pinner;V=eg||(em?em.officialUser:eh||ey);let e_=eu??V;(0,f.Z)(()=>{!X&&ea&&eo&&k&&eo===k&&L(k)});let ew=ei({fn:()=>{if(ea)ed?(R(k),ec(!1),i||Q({event_type:M,view_type:W,view_parameter:G,object_id_str:k,aux_data:e,clientTrackingParams:J})):(L(k),ec(!0),B&&$(({hideToast:e})=>{let t=e_?.username?`/${e_.username}/`:"";return(0,P.jsx)(T.Z,{handleHide:e,href:t,imageUrl:e_?.imageMediumUrl||"",text:(0,P.jsx)(r.xv,{lineClamp:4,children:q.bt("Đang theo dõi! Ghim họ tạo sẽ hiển thị trong bảng tin nhà của bạn!", "Following! Their created Pins will show up in your home feed!", "followButton.follow.informationalToastText", undefined, true)}),userId:k})}),i||Q({event_type:n,view_type:W,view_parameter:G,object_id_str:k,aux_data:e,clientTrackingParams:J}));else{if((0,m.NC)(ed?"press_profile_unfollow":"press_profile_follow"),Y({action:"click",item:ed?"unfollow-button":"follow-button"}),et("migration_upsell_manager_redux").anyEnabled||et("migration_upsell_manager_redux_dweb").anyEnabled||et("migration_upsell_manager_redux_mweb").anyEnabled)if(X){let e=et("pcons_dweb_contextual_follow_modal").anyEnabled;es((0,_.b9)(!!Z,e))}else{let e=et("pcons_mweb_contextual_follow_modal").anyEnabled;es((0,_.Jw)(!!Z,e))}else ee({reason:"ACTION_REQUIRES_LOGIN_OR_SIGNUP",attributionLabel:Z?"click_idea_pin_follow":"click_follow",desktopOptions:{modalType:"signup",modalOptions:X&&et("pcons_dweb_contextual_follow_modal").anyEnabled?{source:"followButton",container:"follow"}:void 0},mobileOptions:!X&&et("pcons_mweb_contextual_follow_modal").anyEnabled?{headingType:"follow"}:void 0});X||er(k??""),(0,m.NC)("clickthrough")}},modalHeader:(0,v.N4)({i18n:q,toFollow:!ed})}),ef=!ed&&!!O,ev=()=>{if(z)return q.bt("Chính là bạn!", "That's you!", "Follow button is disabled because this is you", undefined, true);if("AddRemove"===K)return ed?q.bt("Xóa", "Remove", "unfollowButton.removeText", undefined, true):q.bt("Thêm", "Add", "followButton.addText", undefined, true);let e="FollowUnfollow"===K?q.bt("Hủy theo dõi", "Unfollow", "unfollowButton.unfollowText", undefined, true):q.bt("Đang theo dõi", "Following", "Follow button label - followed state", undefined, true);return ed?e:q.bt("Theo dõi", "Follow", "Follow button label - unfollowed state", undefined, true)};return(0,P.jsx)(S,{pulsar:ef?{show:!0,onClick:ew}:{show:!1},testId:z||ed?"board-unfollow-button":"board-follow-button",children:(0,P.jsx)(r.zx,{accessibilityLabel:ev(),color:H||"AddRemove"===K||!C&&E||D?"gray":"red",disabled:z||t,fullWidth:A,onClick:ef?void 0:({event:t})=>{t.preventDefault(),t.stopPropagation(),i||Q({event_type:101,component:13672,element:11951,object_id_str:k,view_type:W,view_parameter:G,aux_data:e,clientTrackingParams:J}),ew()},selected:ed||!1,size:N,text:ev()})})}},547585:function(e,t,i){i.d(t,{Cy:()=>d,HE:()=>c,JE:()=>m,Mv:()=>o,Y4:()=>u,dL:()=>a,fS:()=>p,fv:()=>l,qS:()=>s,u:()=>g,uc:()=>r});var n=i(351607);let a=e=>{let t=(0,n.ZP)({impressionAuxFields:{...e.impressionData||{}},clientTrackingParams:e.trackingParams,duploShouldTrackPinEvents:e.duploShouldTrackPinEvents,loggingId:e.loggingId,slotIndex:e.slotIndex,contextLogData:e.auxData||{},componentType:e.component,impressionType:"Pin",isPaused:e.isPaused,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:t})},o=e=>{let t=(0,n.ZP)({impressionAuxFields:{newsType:e.newsType,displayMode:e.displayMode,newsIndex:e.newsIndex||0,tapItemIdStr:e.tapItemIdStr},contextLogData:e.auxData||{},impressionType:"Notification",loggingId:e.notificationId,viewType:107,viewParameter:3082});return e.children({impressionTrackerRef:t})},r=e=>{let t=(0,n.ZP)({impressionAuxFields:{newsType:e.newsType},contextLogData:e.auxData||{},impressionType:"NotificationFeed",loggingId:e.notificationId,viewType:107,viewParameter:3082});return e.children({impressionTrackerRef:t})},l=e=>{let t=(0,n.ZP)({impressionAuxFields:{...e.impressionData||{}},contextLogData:e.auxData||{},componentType:e.component,isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter,clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex,impressionType:"Article"});return e.children({impressionTrackerRef:t})},s=e=>{let t=(0,n.ZP)({impressionAuxFields:{...e.impressionData||{}},clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex,contextLogData:e.auxData||{},componentType:e.component,impressionType:"Story",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:t})},d=e=>{let t=(0,n.ZP)({impressionAuxFields:{...e.impressionData||{}},clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex||0,contextLogData:e.auxData||{},componentType:e.component,impressionType:"User",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:t})},c=e=>{let t=(0,n.ZP)({impressionAuxFields:{...e.impressionData||{}},clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex||0,contextLogData:e.auxData||{},componentType:e.component,impressionType:"Interest",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:t})},u=e=>{let t=(0,n.ZP)({impressionAuxFields:{...e.impressionData||{}},clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex,contextLogData:e.auxData||{},componentType:e.component,impressionType:"TodayArticle",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:t})},p=e=>{let t=(0,n.ZP)({impressionAuxFields:{...e.impressionData||{}},clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex,contextLogData:e.auxData||{},componentType:e.component,impressionType:"Board",loggingId:e.loggingId,viewType:e.viewType||1,viewParameter:e.viewParameter,viewData:e.viewData});return e.children({impressionTrackerRef:t})},m=e=>{let t=(0,n.ZP)({carouselData:e.carouselData,impressionType:"Pin",loggingId:e.loggingId,slotIndex:e.slotIndex??0,trackCarousel:!0,viewParameter:e.viewParameter||72,viewType:e.viewType||1,isPaused:e.isPaused,contextLogData:e.contextLogData,componentType:e.component,impressionAuxFields:e.impressionAuxFields});return e.children({impressionTrackerRef:t})},g=e=>{let t=(0,n.ZP)({impressionAuxFields:{...e.impressionData||{}},clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex,contextLogData:e.auxData||{},componentType:e.component,impressionType:"EditorialBoard",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:t})}},865690:function(e,t,i){i.d(t,{Z:()=>r});var n=i(281098),a=i(20256),o=i(785893);function r({children:e,additionalStyles:t={}}){return(0,n.Z)("ContentLayer","/app/www/PinRep/ContentLayer.tsx"),(0,o.jsx)(a.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{pointerEvents:"none",...t}},"data-test-id":"contentLayer",left:!0,position:"absolute",right:!0,top:!0,children:e})}},452516:function(e,t,i){i.d(t,{Z:()=>a});var n=i(793698);function a(){let e=(0,n.dM)();return Object.keys(e).reduce((t,i)=>{let n=e[i];return t[n.username]=n,t},{})}},298097:function(e,t,i){i.d(t,{Z:()=>I});var n,a,o=i(281098),r=i(667294);i(244311);var l=i(20256),s=i(28427),d=i(19585),c=i(97484),u=i(274320),p=i(15667),m=i(647709),g=i(483858),h=i(271597),y=i(509120),_=i(785893);function w({backgroundColor:e="darkGray",iconColor:t="inverse",iconSize:i,privacy:n,size:a=20}){(0,o.Z)("PrivacyIcon","/app/www/board/duplo/PrivacyIcon.tsx");let r=(0,d.Z)();return(0,_.jsx)(l.xu,{alignItems:"center",color:e,direction:"column",display:"flex",height:a,justifyContent:"center",rounding:"circle",width:a,children:(0,_.jsx)(l.JO,{accessibilityLabel:r.bt("Biểu tượng bảng bí mật", "Secret board icon", "Icon indicating that a board is secret", undefined, true),color:t,icon:"secret"===n?"lock":"security",size:i??a/2})})}var f=i(865690),v=i(827644);let b=(void 0!==n||(n=i(237453)).hash&&"0e2c441822700a6145ea7cd142c0425b"!==n.hash&&console.error("The definition of 'DrawerImageGroup_board' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),n),x=(void 0!==a||(a=i(608649)).hash&&"35b139c2e951baaa6624b30e45f913ce"!==a.hash&&console.error("The definition of 'DrawerImageGroup_coverPin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),a),T="100%";function I(e){(0,o.Z)("DrawerImageGroup","/app/www/board/DrawerImageGroup.tsx");let t=(0,d.Z)(),{boardKey:i,canEdit:n,containerBackgroundColor:a="white",coverPhoto:I,coverPinKey:P,fullSize:S,hideSecretBoardIcon:j,images:k,isActive:A,isHomePageBoards:D,isProtected:F,isSecret:Z,layout:C,onEditClick:E,renderAsImage:B,showSensitivityScreen:z}=e,L=(0,m.HG)(),{isRTL:R,isAuthenticated:U}=(0,p.B)(),H=(0,s.Z)(b,i),O=(0,s.Z)(x,P),N=(0,r.useRef)(null),K=L&&U,{checkExperiment:M}=(0,u.r)(),[G,W]=(0,r.useState)(!1);(0,r.useEffect)(()=>{A&&K&&H&&!Z&&!G&&W(M("ce_dweb_board_preview_share_button").anyEnabled)},[A,K,H,Z,G,M]);let J=k[0],V=!I&&k[0]?.name||t.bt("Ảnh bìa", "Cover image", "DrawerImageGroup", undefined, true),q=[,,].fill(0),X=new l.Ry(1),$="square"===C?h.M0:h.z9,Y="square"===C?h.FP:h.FC,Q=J?.url?(0,_.jsx)(l.Ee,{alt:V,color:"#efefef",fit:"cover",naturalHeight:133,naturalWidth:133,src:J.url}):(0,_.jsx)(l.xu,{color:"secondary",height:"100%",width:"100%"}),ee=z?{filter:"blur(20px)"}:{};return(0,_.jsxs)(l.zd,{height:S?"100%":void 0,rounding:4,width:"100%",children:[(0,_.jsxs)(l.kC,{alignItems:"stretch",direction:"row",height:"100%",justifyContent:"start",children:[(0,_.jsx)(l.sg,{span:8,children:(0,_.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:ee},height:S?"100%":void 0,position:"relative",children:(0,_.jsx)(l.xu,{color:"secondary",dangerouslySetInlineStyle:{__style:{paddingBottom:T}},overflow:"hidden",width:"100%",children:(0,_.jsxs)(l.xu,{ref:N,bottom:!0,dangerouslySetInlineStyle:{__style:{borderColor:D?"#FFDFE9":a,borderStyle:"solid",borderWidth:"1px 0 1px 1px",borderRadius:"16px 0 0 16px"}},"data-test-id":"drawer-image-group-first-image-container",left:!0,overflow:"hidden",position:"absolute",right:!0,top:!0,children:[(F||Z)&&!j&&(0,_.jsx)(l.xu,{left:!R,margin:2,position:"absolute",right:R,top:!0,zIndex:X,children:(0,_.jsx)(w,{backgroundColor:"default",iconColor:"default",privacy:Z?"secret":"protected",size:K?32:24})}),I?.url?(0,_.jsx)(l.zd,{height:"100%",wash:!0,width:"100%",children:(0,_.jsx)(y.Z,{customCover:I.isCustom,height:Y,imgPos:O?function(e){let{crop:t,size:i}=e||{};if(Array.isArray(t)&&Array.isArray(i))return{x:t[0]||0,y:t[1]||0,width:i[0]||0,height:i[1]||0}}(O):I.position||{width:0,height:0,x:0,y:0},imgUrl:O?.imageUrl??(I.url||""),renderAsImage:B,width:Math.floor($/3*2)})}):Q]})})})}),(0,_.jsx)(l.sg,{span:4,children:(0,_.jsxs)(l.xu,{dangerouslySetInlineStyle:{__style:ee},height:"100%",children:[n&&(0,_.jsxs)(l.xu,{bottom:!0,display:G?"flex":void 0,left:R,margin:2,opacity:+!!A,position:"absolute",right:!R,zIndex:X,children:[G&&(0,_.jsx)(l.iP,{onTap:({event:e})=>{e.preventDefault(),e.stopPropagation()},children:(0,_.jsx)(l.xu,{marginEnd:1,children:(0,_.jsx)(v.Z,{boardKey:H,handleCreatePincode:()=>{},iconColor:"darkGray",isShowShareIcon:!0,size:"sm"})})}),(0,_.jsx)(l.iP,{onTap:({event:e})=>E?.(e),children:(0,_.jsx)(l.hU,{accessibilityLabel:t.bt("Sửa", "Edit", "DrawerImageGroup.edit", undefined, true),bgColor:"white",icon:"edit",iconColor:"darkGray",size:"sm",tabIndex:-1})})]}),q.map((e,t)=>{let i=I?k[t]:k[t+1];return(0,_.jsx)(l.xu,{height:S?"50%":void 0,position:"relative",children:(0,_.jsx)(l.xu,{color:"secondary",dangerouslySetInlineStyle:{__style:{paddingBottom:T}},overflow:"hidden",width:"100%",children:(0,_.jsx)(l.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{borderColor:D?"#FFDFE9":a,borderStyle:"solid",borderWidth:0===t?1:"0 1px 1px 1px",borderRadius:0===t?"0 16px 0 0":"0 0 16px 0"}},left:!0,overflow:"hidden",position:"absolute",right:!0,top:!0,children:i?.url?(0,_.jsx)(l.zd,{height:"100%",wash:!0,width:"100%",children:(0,_.jsx)(l.Ee,{alt:"",color:"#efefef",fit:"cover",naturalHeight:133,naturalWidth:133,src:i.url})}):(0,_.jsx)(l.xu,{color:"secondary",height:"100%",width:"100%"})})})},t)})]})}),z&&(0,_.jsx)(l.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{background:"rgba(0,0,0,0.5)"}},display:"flex",height:"100%",justifyContent:"center",position:"absolute",top:!0,width:"100%",children:(0,_.jsx)(l.X6,{align:"center",color:"light",size:"400",children:t.bt("Bảng này có thể chứa nội dung nhạy cảm", "This board may contain sensitive content", "drawerImageGroup.sensitivityScreen.heading", undefined, true)})})]}),(0,_.jsx)(g.Z,{visibility:A?"visible":"none",children:(0,_.jsx)(f.Z,{additionalStyles:{backgroundColor:c.Dv.LEGO_WASH}})})]})}},352908:function(e,t,i){i.d(t,{Z:()=>l});var n=i(19585),a=i(647709),o=i(848387),r=i(732347);let l=()=>{let e=(0,n.Z)(),t=(0,a.HG)(),{viewer:i,loginForMore:l,limitedLoginModalSubheader:s,limitedLoginModalNextLocation:d}=(0,o.m)();return"LIMITED_LOGIN"===i.type?({modalHeader:i,nextLocation:n})=>a=>{let o=null;a&&(a.nativeEvent&&a.nativeEvent instanceof Event?o=a:a.event&&(o=a.event)),o&&(o.preventDefault&&o.preventDefault(),o.stopPropagation&&o.stopPropagation()),l?.setVisible(!0),s?.setText(i||(t?(0,r.hr)(e):(0,r.Wh)(e))),n&&d?.setRoute(n)}:({fn:e})=>e}},854167:function(e,t,i){i.d(t,{Z:()=>g});var n,a=i(281098),o=i(667294);i(167912);var r=i(20256),l=i(679422),s=i(28427),d=i(19585),c=i(896273),u=i(785893);let p=(void 0!==n||(n=i(452525)).hash&&"f459445ee8d1ea0db022e490ef5a2e80"!==n.hash&&console.error("The definition of 'SendBoardFlyout_board' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),n);class m extends o.Component{constructor(...e){var t,i,n;super(...e),i={flyoutOpen:!1},(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t="state","string"))?n:n+"")in this?Object.defineProperty(this,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):this[t]=i}render(){let{board:e,bgColor:t="white",children:i,iconColor:n="gray",onCreatePincode:a,size:l="lg"}=this.props,{flyoutOpen:s}=this.state,d={description:e?.description,id:e?.entityId??"",imageUrl:e?.imageCoverUrl,name:e?.name??void 0,type:"board",url:e?.url??void 0},p=e=>{let{requireAuth:t}=this.props;if(t){e&&e.preventDefault(),t();return}this.state.flyoutOpen||this.props.onOpen(),this.setState(e=>({flyoutOpen:!e.flyoutOpen}))},m=i&&i({active:s,onClick:()=>p()})||(0,u.jsx)(r.hU,{ref:this.props.sendBoardButtonRef,accessibilityLabel:this.props.i18n.bt("Gửi Bảng", "Send Board", "Accessible label for button to send board", undefined, true),bgColor:t,dataTestId:"send-board-button-icon",icon:"share",iconColor:n,onClick:({event:e})=>p(e),selected:s,size:l});return(0,u.jsxs)(o.Fragment,{children:[(0,u.jsx)(r.xu,{ref:e=>{this.anchor=e},children:m}),this.state.flyoutOpen&&(0,u.jsx)(r.mh,{children:(0,u.jsx)(r.J2,{anchor:this.anchor,idealDirection:"down",onDismiss:()=>p(),positionRelativeToAnchor:!1,size:"flexible",children:(0,u.jsx)(c.Z,{component:13216,onCreatePincodeClick:a?()=>{p(),a()}:void 0,onHide:()=>p(),sendType:"board",sharedObject:d,viewType:5})})})]})}}let g=e=>{(0,a.Z)("SendBoardFlyout","/app/www/save/board/BoardInfoBar/SendBoardFlyout.tsx");let t=(0,d.Z)(),i=(0,l.Z)(),n=(0,s.Z)(p,e.boardKey);return(0,u.jsx)(m,{...e,board:n,i18n:t,requireAuth:i,sendBoardButtonRef:e.sendBoardButtonRef})}},827644:function(e,t,i){i.d(t,{Z:()=>y});var n,a=i(281098),o=i(667294);i(244311);var r=i(20256),l=i(980787),s=i(679422),d=i(364843),c=i(28427),u=i(19585),p=i(854167),m=i(277168),g=i(785893);let h=(void 0!==n||(n=i(423347)).hash&&"8d95294efe15498023c69669c6a41e71"!==n.hash&&console.error("The definition of 'SendBoardButton_board' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),n);function y({boardKey:e,handleCreatePincode:t,iconColor:i,isShowShareIcon:n,size:y="lg"}){(0,a.Z)("SendBoardButton","/app/www/save/board/Headers/BoardHeader/SendBoardButton.tsx");let{logContextEvent:_}=(0,l.u)(),w=(0,u.Z)(),f=(0,s.Z)(),v=(0,o.useRef)(null),b=(0,c.Z)(h,e);return(0,g.jsxs)(o.Fragment,{children:[(0,g.jsx)(p.Z,{boardKey:b,iconColor:i,onCreatePincode:t,onOpen:()=>{if(f)return void f();(0,m.Z)(_)},sendBoardButtonRef:v,size:y,children:n?void 0:({onClick:e})=>(0,g.jsx)(r.xu,{"data-test-id":"board-share-button-auth",children:(0,g.jsx)(r.zx,{ref:v,color:"gray",fullWidth:!0,onClick:e,size:y,text:w.bt("Chia sẻ", "Share", "BoardHeader.SendBoardButton", undefined, true)})})}),(0,g.jsx)(d.N,{anchors:{3018:v.current},idealDirection:"down",onAnchorTouch:"complete",placementId:18,scrollToDismiss:!0})]})}},277168:function(e,t,i){i.d(t,{Z:()=>n});function n(e){e({event_type:101,element:10778,component:13216,view_type:5,view_parameter:3069})}},896273:function(e,t,i){i.d(t,{Z:()=>u});var n=i(281098),a=i(667294),o=i(20256),r=i(355940),l=i(19585),s=i(821806),d=i(785893);let c=(0,a.lazy)(()=>i.e("37408").then(i.bind(i,773895)));function u(e){(0,n.Z)("SendObjectLoader","/app/www/sending/SendObjectLoader.tsx");let t=(0,l.Z)();return(0,d.jsx)(r.Z,{name:"SafeSuspense_SendObjectLoader_SendObjectWrapper",children:(0,d.jsx)(s.Z,{fallback:(0,d.jsx)(o.xu,{alignItems:"center",display:"flex",justifyContent:"center",padding:2,width:"100%",children:(0,d.jsx)(o.xH,{accessibilityLabel:t.bt("Đang tải nội dung chia sẻ", "Loading sharing", "Accessibility label for loading sharing UI", undefined, true),show:!0})}),children:(0,d.jsx)(c,{...e})})})}},400741:function(e,t,i){i.d(t,{Z:()=>u});var n=i(281098),a=i(20256),o=i(475498),r=i(19585),l=i(886981),s=i(647709),d=i(785893);function c({ideaPinImages:e}){(0,n.Z)("FollowingToastThumbnail","/app/www/toasts/FollowingToastThumbnail.tsx");let t=e.map((e,t)=>(0,d.jsx)(a.xu,{borderStyle:"sm",color:"default",dangerouslySetInlineStyle:{__style:{borderColor:"white",marginInlineEnd:"-17px",WebkitMaskImage:"-webkit-radial-gradient(white, black)",zIndex:t}},height:48,overflow:"hidden",rounding:2,width:28,children:e?.url&&(0,d.jsx)(a.Ee,{alt:"",color:"#696969",fit:"cover",naturalHeight:e?.height??1,naturalWidth:e?.width??1,src:e.url})},t));return(0,d.jsx)(a.kC,{justifyContent:"center",children:(0,d.jsx)(a.kC,{justifyContent:"start",width:{1:28,2:40,3:48}[e.length],children:t})})}function u({handleHide:e,text:t,userId:i,href:u,imageUrl:p}){(0,n.Z)("UserFollowingToast","/app/www/toasts/UserFollowingToast.tsx");let m=(0,r.Z)(),g=(0,s.HG)(),h=(0,l.Z)({name:"UserStoryPinsFeedResource",options:{data:{filter_version:2,public_only:!0},field_set_key:"partner_grid_item",user_id:i}}),y=Array.isArray(t)?t.join(" "):t;if(0===(h.data||[]).length)return(0,d.jsx)(o.Z,{duration:5e3,href:u,onHide:e,text:y,thumbnail:p?{image:(0,d.jsx)(a.Ee,{alt:m.bt("Hình ảnh người bạn đã theo dõi", "Image of who you followed", "userFollowingToast.thumbnail.userImage", undefined, true),fit:"cover",naturalHeight:1,naturalWidth:1,src:p})}:void 0});let _=(h.data||[]).slice(0,3).map(e=>e.images?.[g?"236x":"170x"]),w=(0,d.jsx)(c,{ideaPinImages:_});return(0,d.jsx)(o.Z,{_dangerouslySetThumbnail:w,duration:5e3,href:u,onHide:e,text:y})}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/42985.vi_VN-7c3fe7e69b3d43a0.mjs.map