(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);throw new Error("Cannot find module '"+o+"'")}var f=n[o]={exports:{}};t[o][0].call(f.exports,function(e){var n=t[o][1][e];return s(n?n:e)},f,f.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
"use strict";

function ownKeys(object, enumerableOnly) {
  var keys = Object.keys(object);

  if (Object.getOwnPropertySymbols) {
    var symbols = Object.getOwnPropertySymbols(object);
    if (enumerableOnly) symbols = symbols.filter(function (sym) {
      return Object.getOwnPropertyDescriptor(object, sym).enumerable;
    });
    keys.push.apply(keys, symbols);
  }

  return keys;
}

function _objectSpread(target) {
  for (var i = 1; i < arguments.length; i++) {
    var source = arguments[i] != null ? arguments[i] : {};

    if (i % 2) {
      ownKeys(Object(source), true).forEach(function (key) {
        _defineProperty(target, key, source[key]);
      });
    } else if (Object.getOwnPropertyDescriptors) {
      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));
    } else {
      ownKeys(Object(source)).forEach(function (key) {
        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));
      });
    }
  }

  return target;
}

function _defineProperty(obj, key, value) {
  if (key in obj) {
    Object.defineProperty(obj, key, {
      value: value,
      enumerable: true,
      configurable: true,
      writable: true
    });
  } else {
    obj[key] = value;
  }

  return obj;
}

var vw = $(window).width(); //var winPos = 0

var menuOpen = false;
var footerPos = 0;
var sticky = $('.sticky');
var stickyHeight = sticky.height();
var noteInit = false;
var isMobile = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);
var option = {
  infinite: false,
  slidesToShow: 1,
  slidesToScroll: 1,
  dots: true,
  arrows: false,
  autoplay: true,
  autoplaySpeed: 5000,
  speed: 700
};

function slide() {
  $('.banner-slide').slick(_objectSpread(_objectSpread({}, option), {}, {
    arrows: true,
    pauseOnFocus: false,
    responsive: [{
      breakpoint: 480,
      settings: {
        arrows: false
      }
    }]
  }));
  $('.promotion-slide__inner').slick(_objectSpread(_objectSpread({}, option), {}, {
    slidesToShow: 3,
    slidesToScroll: 3,
    arrows: true,
    responsive: [{
      breakpoint: 1001,
      settings: {
        slidesToShow: 2,
        slidesToScroll: 2
      }
    }, {
      breakpoint: 767,
      settings: {
        slidesToShow: 1,
        slidesToScroll: 1,
        arrows: false
      }
    }]
  }));
  $('.service-slide__inner').slick(_objectSpread({}, option));
  $('.discovery-style__slide').slick(_objectSpread({}, option));
  $('.new-list__slide').slick(_objectSpread(_objectSpread({}, option), {}, {
    slidesToShow: 3,
    slidesToScroll: 3,
    responsive: [{
      breakpoint: 1000,
      settings: {
        slidesToShow: 1.3,
        slidesToScroll: 1,
        infinite: false
      }
    }, {
      breakpoint: 767,
      settings: {
        dots: false,
        slidesToShow: 1.2,
        slidesToScroll: 1,
        infinite: false
      }
    }]
  }));
  $('.trademark-slide').slick(_objectSpread(_objectSpread({}, option), {}, {
    slidesToShow: 4,
    slidesToScroll: 4,
    arrows: true,
    responsive: [{
      breakpoint: 1367,
      settings: {
        arrows: true,
        slidesToShow: 3.5,
        slidesToScroll: 3
      }
    }, {
      breakpoint: 1280,
      settings: {
        arrows: false
      }
    }, {
      breakpoint: 1000,
      settings: {
        arrows: false,
        slidesToShow: 2.5,
        slidesToScroll: 2
      }
    }, {
      breakpoint: 767,
      settings: {
        arrows: false,
        slidesToShow: 2.2,
        slidesToScroll: 2,
        dots: false,
        infinite: false
      }
    }]
  })); // $('.branch-floor__note__list').slick({
  //   ...option,
  //   autoplay: false
  // });
}

// function branch() {
//   var mall = 0;
//   var tab = 0;
//   var branchNum = 1;
//   $('[data-handle="floor-0"]').addClass('active');
//   $('[data-handle]').on('click', function () {
//     var data = $(this).data('handle');
//     var group = $(this).data('tab'); // add class active to click item
//
//     $('[data-tab="' + group + '"]').removeClass('active');
//     $(this).addClass('active'); // check click into tab
//
//     if (group === 1) {
//       mall = $(this).index();
//       branchNum = $(this).index() + 1; //console.log(mall)
//
//       $('.branch-content').eq(mall).find('.tab-header__item').eq(tab).addClass('active');
//       noteInit = false; // return floor G when change mall and floor not G
//
//       changeMall(4, 'floor-0');
//       changeMall(3, 'floor-map'); // $('[data-tab="4"]').removeClass('active')
//       // $('[data-content="4"]').hide()
//       // $('[data-handle="floor-0"]').addClass('active')
//       // $('[data-toggle="floor-0"]').show()
//     } else if (group === 2) {
//       tab = $(this).index();
//     } else if (group === 3) {
//       $('[data-handle=' + data + ']').addClass('active');
//     } // delete padding if tab is map
//
//
//     tab === 1 ? $('.branch-inner').addClass('padding') : $('.branch-inner').removeClass('padding'); // change tab content
//
//     $('[data-content="' + group + '"]').hide();
//     $('[data-toggle="' + data + '"]').show(); // note slide init first slick
//
//     if (data === 'floor-note' && !noteInit) {
//       console.log(branchNum);
//       $('[data-toggle="branch' + branchNum + '"]').find('.branch-floor__note__list').not('.slick-initialized').slick(_objectSpread(_objectSpread({}, option), {}, {
//         autoplay: false
//       }));
//       noteInit = true;
//     }
//   });
// }
//
// function changeMall(tab, handle) {
//   $('[data-tab="' + tab + '"]').removeClass('active');
//   $('[data-content="' + tab + '"]').hide();
//   $('[data-handle="' + handle + '"]').addClass('active');
//   $('[data-toggle="' + handle + '"]').show();
// }
//
// function branchSelect() {
//   var $list = $('.branch-list');
//   var $select = $('.branch-list__select');
//   var $drop = $('.branch-list__drop');
//   var $item = $('.branch-list__item');
//   var $name = $('.branch-list__name');
//   $select.on('click', function () {
//     $list.toggleClass('open');
//   });
//   $item.on('click', function () {
//     // select in pc
//     $item.removeClass('active');
//     $(this).addClass('active'); // select in sp
//
//     var value = $(this).find($name).text();
//     $list.removeClass('open');
//     $select.text(value);
//   });
// }

function magnifier() {
  $('.thumb').magnify({
    speed: 200
  });
} // function menu() {
//   $('.btn-menu__icon').on('click tap', function() {
//     $(this).find('.line').removeClass('disableAnimation');
//     $(this).toggleClass('active');
//     $('html').toggleClass('menu-open');
//     if (menuOpen) {
//       $('.submenu-header').removeClass('open')
//     }
//     menuOpen = !menuOpen
//     //console.log(menuOpen)
//   });
// }
// function openSubmenu() {
//   let $el = $('[data-toggles="collapse"]')
//   if (!isMobile) {
//     $('.has-sub-menu').hover (
//       function() {
//         $(this).addClass('hover')
//       },
//       function() {
//         $(this).removeClass('hover')
//       }
//     )
//   } 
//   $el.on('click', function(e) {
//     e.preventDefault()
//     if (vw < 1200) {
//       var target = $(this).attr('href')
//       $(this).toggleClass('expanded')
//       $(target).toggleClass('open')
//       $(target).find('.sub-menu').removeClass('open')
//       $(target).find('.icon-down-arrow').removeClass('expanded')
//     } 
//   });
// }
// function menuScroll() {
//   winPos >= 57
//     ? $('html').addClass('menu-fixed')
//     : $('html').removeClass('menu-fixed') 
// }


function smoothScroll() {
  var offset = 73;
  $('a[href^="#"]').on("click", function (e) {
    e.preventDefault();
    vw <= 1199 ? offset = 58 : offset = 73;
    var h = $(this).attr("href");
    var t = $(h == "#" || h === "" ? 'body' : h);
    var p = t.offset().top - offset;
    setTimeout(function () {
      $('html,body').animate({
        scrollTop: p
      }, 500);
    }, 10);
    return false;
  });
}

function stickyScroll() {
  var stickyPos = sticky.offset().top; //console.log(stickyPos)

  if (stickyHeight + stickyPos >= footerPos) {
    sticky.css({
      opacity: 0,
      zIndex: -1
    });
  } else {
    sticky.css({
      opacity: 1,
      zIndex: 11
    });
  }
}

function update() {
  vw = $(window).width();
  footerPos = $('.footer').offset().top;
} // update variable when resize


$(function () {
  slide();
  // branch();
  magnifier(); //menu()

  // branchSelect();
  smoothScroll(); //openSubmenu()
});
$(window).on('load', function () {
  footerPos = $('.footer').offset().top;
});
$(window).on('resize', function () {
  update();
});
$(window).on('scroll', function () {
  //winPos = window.pageYOffset
  //menuScroll()
  stickyScroll();
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImZha2VfNjY4ZTI2NjguanMiXSwibmFtZXMiOlsib3duS2V5cyIsIm9iamVjdCIsImVudW1lcmFibGVPbmx5Iiwia2V5cyIsIk9iamVjdCIsImdldE93blByb3BlcnR5U3ltYm9scyIsInN5bWJvbHMiLCJmaWx0ZXIiLCJzeW0iLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IiLCJlbnVtZXJhYmxlIiwicHVzaCIsImFwcGx5IiwiX29iamVjdFNwcmVhZCIsInRhcmdldCIsImkiLCJhcmd1bWVudHMiLCJsZW5ndGgiLCJzb3VyY2UiLCJmb3JFYWNoIiwia2V5IiwiX2RlZmluZVByb3BlcnR5IiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyIsImRlZmluZVByb3BlcnRpZXMiLCJkZWZpbmVQcm9wZXJ0eSIsIm9iaiIsInZhbHVlIiwiY29uZmlndXJhYmxlIiwid3JpdGFibGUiLCJ2dyIsIiQiLCJ3aW5kb3ciLCJ3aWR0aCIsIm1lbnVPcGVuIiwiZm9vdGVyUG9zIiwic3RpY2t5Iiwic3RpY2t5SGVpZ2h0IiwiaGVpZ2h0Iiwibm90ZUluaXQiLCJpc01vYmlsZSIsInRlc3QiLCJuYXZpZ2F0b3IiLCJ1c2VyQWdlbnQiLCJvcHRpb24iLCJpbmZpbml0ZSIsInNsaWRlc1RvU2hvdyIsInNsaWRlc1RvU2Nyb2xsIiwiZG90cyIsImFycm93cyIsImF1dG9wbGF5IiwiYXV0b3BsYXlTcGVlZCIsInNwZWVkIiwic2xpZGUiLCJzbGljayIsInBhdXNlT25Gb2N1cyIsInJlc3BvbnNpdmUiLCJicmVha3BvaW50Iiwic2V0dGluZ3MiLCJicmFuY2giLCJtYWxsIiwidGFiIiwiYnJhbmNoTnVtIiwiYWRkQ2xhc3MiLCJvbiIsImRhdGEiLCJncm91cCIsInJlbW92ZUNsYXNzIiwiaW5kZXgiLCJlcSIsImZpbmQiLCJjaGFuZ2VNYWxsIiwiaGlkZSIsInNob3ciLCJjb25zb2xlIiwibG9nIiwibm90IiwiaGFuZGxlIiwiYnJhbmNoU2VsZWN0IiwiJGxpc3QiLCIkc2VsZWN0IiwiJGRyb3AiLCIkaXRlbSIsIiRuYW1lIiwidG9nZ2xlQ2xhc3MiLCJ0ZXh0IiwibWFnbmlmaWVyIiwibWFnbmlmeSIsInNtb290aFNjcm9sbCIsIm9mZnNldCIsImUiLCJwcmV2ZW50RGVmYXVsdCIsImgiLCJhdHRyIiwidCIsInAiLCJ0b3AiLCJzZXRUaW1lb3V0IiwiYW5pbWF0ZSIsInNjcm9sbFRvcCIsInN0aWNreVNjcm9sbCIsInN0aWNreVBvcyIsImNzcyIsIm9wYWNpdHkiLCJ6SW5kZXgiLCJ1cGRhdGUiXSwibWFwcGluZ3MiOiJBQUFBOztBQUVBLFNBQVNBLE9BQVQsQ0FBaUJDLE1BQWpCLEVBQXlCQyxjQUF6QixFQUF5QztBQUFFLE1BQUlDLElBQUksR0FBR0MsTUFBTSxDQUFDRCxJQUFQLENBQVlGLE1BQVosQ0FBWDs7QUFBZ0MsTUFBSUcsTUFBTSxDQUFDQyxxQkFBWCxFQUFrQztBQUFFLFFBQUlDLE9BQU8sR0FBR0YsTUFBTSxDQUFDQyxxQkFBUCxDQUE2QkosTUFBN0IsQ0FBZDtBQUFvRCxRQUFJQyxjQUFKLEVBQW9CSSxPQUFPLEdBQUdBLE9BQU8sQ0FBQ0MsTUFBUixDQUFlLFVBQVVDLEdBQVYsRUFBZTtBQUFFLGFBQU9KLE1BQU0sQ0FBQ0ssd0JBQVAsQ0FBZ0NSLE1BQWhDLEVBQXdDTyxHQUF4QyxFQUE2Q0UsVUFBcEQ7QUFBaUUsS0FBakcsQ0FBVjtBQUE4R1AsSUFBQUEsSUFBSSxDQUFDUSxJQUFMLENBQVVDLEtBQVYsQ0FBZ0JULElBQWhCLEVBQXNCRyxPQUF0QjtBQUFpQzs7QUFBQyxTQUFPSCxJQUFQO0FBQWM7O0FBRXJWLFNBQVNVLGFBQVQsQ0FBdUJDLE1BQXZCLEVBQStCO0FBQUUsT0FBSyxJQUFJQyxDQUFDLEdBQUcsQ0FBYixFQUFnQkEsQ0FBQyxHQUFHQyxTQUFTLENBQUNDLE1BQTlCLEVBQXNDRixDQUFDLEVBQXZDLEVBQTJDO0FBQUUsUUFBSUcsTUFBTSxHQUFHRixTQUFTLENBQUNELENBQUQsQ0FBVCxJQUFnQixJQUFoQixHQUF1QkMsU0FBUyxDQUFDRCxD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REE7QUFFVEMsTUFBQUEsTUFBTSxFQUFFLENBQUM7QUFGQSxLQUFYO0FBSUQsR0FMRCxNQUtPO0FBQ0xwRSxJQUFBQSxNQUFNLENBQUNrRSxHQUFQLENBQVc7QUFDVEMsTUFBQUEsT0FBTyxFQUFFLENBREE7QUFFVEMsTUFBQUEsTUFBTSxFQUFFO0FBRkMsS0FBWDtBQUlEO0FBQ0Y7O0FBRUQsU0FBU0MsTUFBVCxHQUFrQjtBQUNoQjNFLEVBQUFBLEVBQUUsR0FBR0MsQ0FBQyxDQUFDQyxNQUFELENBQUQsQ0FBVUMsS0FBVixFQUFMO0FBQ0FFLEVBQUFBLFNBQVMsR0FBR0osQ0FBQyxDQUFDLFNBQUQsQ0FBRCxDQUFhMEQsTUFBYixHQUFzQk8sR0FBbEM7QUFDRCxDLENBQUM7OztBQUdGakUsQ0FBQyxDQUFDLFlBQVk7QUFDWnNCLEVBQUFBLEtBQUs7QUFDTE0sRUFBQUEsTUFBTTtBQUNOMkIsRUFBQUEsU0FBUyxHQUhHLENBR0M7O0FBRWJSLEVBQUFBLFlBQVk7QUFDWlUsRUFBQUEsWUFBWSxHQU5BLENBTUk7QUFDakIsQ0FQQSxDQUFEO0FBUUF6RCxDQUFDLENBQUNDLE1BQUQsQ0FBRCxDQUFVZ0MsRUFBVixDQUFhLE1BQWIsRUFBcUIsWUFBWTtBQUMvQjdCLEVBQUFBLFNBQVMsR0FBR0osQ0FBQyxDQUFDLFNBQUQsQ0FBRCxDQUFhMEQsTUFBYixHQUFzQk8sR0FBbEM7QUFDRCxDQUZEO0FBR0FqRSxDQUFDLENBQUNDLE1BQUQsQ0FBRCxDQUFVZ0MsRUFBVixDQUFhLFFBQWIsRUFBdUIsWUFBWTtBQUNqQ3lDLEVBQUFBLE1BQU07QUFDUCxDQUZEO0FBR0ExRSxDQUFDLENBQUNDLE1BQUQsQ0FBRCxDQUFVZ0MsRUFBVixDQUFhLFFBQWIsRUFBdUIsWUFBWTtBQUNqQztBQUNBO0FBQ0FvQyxFQUFBQSxZQUFZO0FBQ2IsQ0FKRCIsInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG5mdW5jdGlvbiBvd25LZXlzKG9iamVjdCwgZW51bWVyYWJsZU9ubHkpIHsgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhvYmplY3QpOyBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykgeyB2YXIgc3ltYm9scyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMob2JqZWN0KTsgaWYgKGVudW1lcmFibGVPbmx5KSBzeW1ib2xzID0gc3ltYm9scy5maWx0ZXIoZnVuY3Rpb24gKHN5bSkgeyByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHN5bSkuZW51bWVyYWJsZTsgfSk7IGtleXMucHVzaC5hcHBseShrZXlzLCBzeW1ib2xzKTsgfSByZXR1cm4ga2V5czsgfVxuXG5mdW5jdGlvbiBfb2JqZWN0U3ByZWFkKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldICE9IG51bGwgPyBhcmd1bWVudHNbaV0gOiB7fTsgaWYgKGkgJSAyKSB7IG93bktleXMoT2JqZWN0KHNvdXJjZSksIHRydWUpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBfZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHNvdXJjZVtrZXldKTsgfSk7IH0gZWxzZSBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMpIHsgT2JqZWN0LmRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhzb3VyY2UpKTsgfSBlbHNlIHsgb3duS2V5cyhPYmplY3Qoc291cmNlKSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihzb3VyY2UsIGtleSkpOyB9KTsgfSB9IHJldHVybiB0YXJnZXQ7IH1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSkgeyBpZiAoa2V5IGluIG9iaikgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHsgdmFsdWU6IHZhbHVlLCBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlIH0pOyB9IGVsc2UgeyBvYmpba2V5XSA9IHZhbHVlOyB9IHJldHVybiBvYmo7IH1cblxudmFyIHZ3ID0gJCh3aW5kb3cpLndpZHRoKCk7IC8vdmFyIHdpblBvcyA9IDBcblxudmFyIG1lbnVPcGVuID0gZmFsc2U7XG52YXIgZm9vdGVyUG9zID0gMDtcbnZhciBzdGlja3kgPSAkKCcuc3RpY2t5Jyk7XG52YXIgc3RpY2t5SGVpZ2h0ID0gc3RpY2t5LmhlaWdodCgpO1xudmFyIG5vdGVJbml0ID0gZmFsc2U7XG52YXIgaXNNb2JpbGUgPSAvQW5kcm9pZHx3ZWJPU3xpUGhvbmV8aVBhZHxpUG9kfEJsYWNrQmVycnl8SUVNb2JpbGV8T3BlcmEgTWluaS9pLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCk7XG52YXIgb3B0aW9uID0ge1xuICBpbmZpbml0ZTogZmFsc2UsXG4gIHNsaWRlc1RvU2hvdzogMSxcbiAgc2xpZGVzVG9TY3JvbGw6IDEsXG4gIGRvdHM6IHRydWUsXG4gIGFycm93czogZmFsc2UsXG4gIGF1dG9wbGF5OiB0cnVlLFxuICBhdXRvcGxheVNwZWVkOiA1MDAwLFxuICBzcGVlZDogNzAwXG59O1xuXG5mdW5jdGlvbiBzbGlkZSgpIHtcbiAgJCgnLmJhbm5lci1zbGlkZScpLnNsaWNrKF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgb3B0aW9uKSwge30sIHtcbiAgICBhcnJvd3M6IHRydWUsXG4gICAgcGF1c2VPbkZvY3VzOiBmYWxzZSxcbiAgICByZXNwb25zaXZlOiBbe1xuICAgICAgYnJlYWtwb2ludDogNDgwLFxuICAgICAgc2V0dGluZ3M6IHtcbiAgICAgICAgYXJyb3dzOiBmYWxzZVxuICAgICAgfVxuICAgIH1dXG4gIH0pKTtcbiAgJCgnLnByb21vdGlvbi1zbGlkZV9faW5uZXInKS5zbGljayhfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIG9wdGlvbiksIHt9LCB7XG4gICAgc2xpZGVzVG9TaG93OiAzLFxuICAgIHNsaWRlc1RvU2Nyb2xsOiAzLFxuICAgIGFycm93czogdHJ1ZSxcbiAgICByZXNwb25zaXZlOiBbe1xuICAgICAgYnJlYWtwb2ludDogMTAwMSxcbiAgICAgIHNldHRpbmdzOiB7XG4gICAgICAgIHNsaWRlc1RvU2hvdzogMixcbiAgICAgICAgc2xpZGVzVG9TY3JvbGw6IDJcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBicmVha3BvaW50OiA3NjcsXG4gICAgICBzZXR0aW5nczoge1xuICAgICAgICBzbGlkZXNUb1Nob3c6IDEsXG4gICAgICAgIHNsaWRlc1RvU2Nyb2xsOiAxLFxuICAgICAgICBhcnJvd3M6IGZhbHNlXG4gICAgICB9XG4gICAgfV1cbiAgfSkpO1xuICAkKCcuc2VydmljZS1zbGlkZV9faW5uZXInKS5zbGljayhfb2JqZWN0U3ByZWFkKHt9LCBvcHRpb24pKTtcbiAgJCgnLmRpc2NvdmVyeS1zdHlsZV9fc2xpZGUnKS5zbGljayhfb2JqZWN0U3ByZWFkKHt9LCBvcHRpb24pKTtcbiAgJCgnLm5ldy1saXN0X19zbGlkZScpLnNsaWNrKF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgb3B0aW9uKSwge30sIHtcbiAgICBzbGlkZXNUb1Nob3c6IDMsXG4gICAgc2xpZGVzVG9TY3JvbGw6IDMsXG4gICAgcmVzcG9uc2l2ZTogW3tcbiAgICAgIGJyZWFrcG9pbnQ6IDEwMDAsXG4gICAgICBzZXR0aW5nczoge1xuICAgICAgICBzbGlkZXNUb1Nob3c6IDEuMyxcbiAgICAgICAgc2xpZGVzVG9TY3JvbGw6IDEsXG4gICAgICAgIGluZmluaXRlOiBmYWxzZVxuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGJyZWFrcG9pbnQ6IDc2NyxcbiAgICAgIHNldHRpbmdzOiB7XG4gICAgICAgIGRvdHM6IGZhbHNlLFxuICAgICAgICBzbGlkZXNUb1Nob3c6IDEuMixcbiAgICAgICAgc2xpZGVzVG9TY3JvbGw6IDEsXG4gICAgICAgIGluZmluaXRlOiBmYWxzZVxuICAgICAgfVxuICAgIH1dXG4gIH0pKTtcbiAgJCgnLnRyYWRlbWFyay1zbGlkZScpLnNsaWNrKF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgb3B0aW9uKSwge30sIHtcbiAgICBzbGlkZXNUb1Nob3c6IDQsXG4gICAgc2xpZGVzVG9TY3JvbGw6IDQsXG4gICAgYXJyb3dzOiB0cnVlLFxuICAgIHJlc3BvbnNpdmU6IFt7XG4gICAgICBicmVha3BvaW50OiAxMzY3LFxuICAgICAgc2V0dGluZ3M6IHtcbiAgICAgICAgYXJyb3dzOiB0cnVlLFxuICAgICAgICBzbGlkZXNUb1Nob3c6IDMuNSxcbiAgICAgICAgc2xpZGVzVG9TY3JvbGw6IDNcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBicmVha3BvaW50OiAxMjgwLFxuICAgICAgc2V0dGluZ3M6IHtcbiAgICAgICAgYXJyb3dzOiBmYWxzZVxuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGJyZWFrcG9pbnQ6IDEwMDAsXG4gICAgICBzZXR0aW5nczoge1xuICAgICAgICBhcnJvd3M6IGZhbHNlLFxuICAgICAgICBzbGlkZXNUb1Nob3c6IDIuNSxcbiAgICAgICAgc2xpZGVzVG9TY3JvbGw6IDJcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBicmVha3BvaW50OiA3NjcsXG4gICAgICBzZXR0aW5nczoge1xuICAgICAgICBhcnJvd3M6IGZhbHNlLFxuICAgICAgICBzbGlkZXNUb1Nob3c6IDIuMixcbiAgICAgICAgc2xpZGVzVG9TY3JvbGw6IDIsXG4gICAgICAgIGRvdHM6IGZhbHNlLFxuICAgICAgICBpbmZpbml0ZTogZmFsc2VcbiAgICAgIH1cbiAgICB9XVxuICB9KSk7IC8vICQoJy5icmFuY2gtZmxvb3JfX25vdGVfX2xpc3QnKS5zbGljayh7XG4gIC8vICAgLi4ub3B0aW9uLFxuICAvLyAgIGF1dG9wbGF5OiBmYWxzZVxuICAvLyB9KTtcbn1cblxuZnVuY3Rpb24gYnJhbmNoKCkge1xuICB2YXIgbWFsbCA9IDA7XG4gIHZhciB0YWIgPSAwO1xuICB2YXIgYnJhbmNoTnVtID0gMTtcbiAgJCgnW2RhdGEtaGFuZGxlPVwiZmxvb3ItMFwiXScpLmFkZENsYXNzKCdhY3RpdmUnKTtcbiAgJCgnW2RhdGEtaGFuZGxlXScpLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZGF0YSA9ICQodGhpcykuZGF0YSgnaGFuZGxlJyk7XG4gICAgdmFyIGdyb3VwID0gJCh0aGlzKS5kYXRhKCd0YWInKTsgLy8gYWRkIGNsYXNzIGFjdGl2ZSB0byBjbGljayBpdGVtXG5cbiAgICAkKCdbZGF0YS10YWI9XCInICsgZ3JvdXAgKyAnXCJdJykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xuICAgICQodGhpcykuYWRkQ2xhc3MoJ2FjdGl2ZScpOyAvLyBjaGVjayBjbGljayBpbnRvIHRhYlxuXG4gICAgaWYgKGdyb3VwID09PSAxKSB7XG4gICAgICBtYWxsID0gJCh0aGlzKS5pbmRleCgpO1xuICAgICAgYnJhbmNoTnVtID0gJCh0aGlzKS5pbmRleCgpICsgMTsgLy9jb25zb2xlLmxvZyhtYWxsKVxuXG4gICAgICAkKCcuYnJhbmNoLWNvbnRlbnQnKS5lcShtYWxsKS5maW5kKCcudGFiLWhlYWRlcl9faXRlbScpLmVxKHRhYikuYWRkQ2xhc3MoJ2FjdGl2ZScpO1xuICAgICAgbm90ZUluaXQgPSBmYWxzZTsgLy8gcmV0dXJuIGZsb29yIEcgd2hlbiBjaGFuZ2UgbWFsbCBhbmQgZmxvb3Igbm90IEdcblxuICAgICAgY2hhbmdlTWFsbCg0LCAnZmxvb3ItMCcpO1xuICAgICAgY2hhbmdlTWFsbCgzLCAnZmxvb3ItbWFwJyk7IC8vICQoJ1tkYXRhLXRhYj1cIjRcIl0nKS5yZW1vdmVDbGFzcygnYWN0aXZlJylcbiAgICAgIC8vICQoJ1tkYXRhLWNvbnRlbnQ9XCI0XCJdJykuaGlkZSgpXG4gICAgICAvLyAkKCdbZGF0YS1oYW5kbGU9XCJmbG9vci0wXCJdJykuYWRkQ2xhc3MoJ2FjdGl2ZScpXG4gICAgICAvLyAkKCdbZGF0YS10b2dnbGU9XCJmbG9vci0wXCJdJykuc2hvdygpXG4gICAgfSBlbHNlIGlmIChncm91cCA9PT0gMikge1xuICAgICAgdGFiID0gJCh0aGlzKS5pbmRleCgpO1xuICAgIH0gZWxzZSBpZiAoZ3JvdXAgPT09IDMpIHtcbiAgICAgICQoJ1tkYXRhLWhhbmRsZT0nICsgZGF0YSArICddJykuYWRkQ2xhc3MoJ2FjdGl2ZScpO1xuICAgIH0gLy8gZGVsZXRlIHBhZGRpbmcgaWYgdGFiIGlzIG1hcFxuXG5cbiAgICB0YWIgPT09IDEgPyAkKCcuYnJhbmNoLWlubmVyJykuYWRkQ2xhc3MoJ3BhZGRpbmcnKSA6ICQoJy5icmFuY2gtaW5uZXInKS5yZW1vdmVDbGFzcygncGFkZGluZycpOyAvLyBjaGFuZ2UgdGFiIGNvbnRlbnRcblxuICAgICQoJ1tkYXRhLWNvbnRlbnQ9XCInICsgZ3JvdXAgKyAnXCJdJykuaGlkZSgpO1xuICAgICQoJ1tkYXRhLXRvZ2dsZT1cIicgKyBkYXRhICsgJ1wiXScpLnNob3coKTsgLy8gbm90ZSBzbGlkZSBpbml0IGZpcnN0IHNsaWNrXG5cbiAgICBpZiAoZGF0YSA9PT0gJ2Zsb29yLW5vdGUnICYmICFub3RlSW5pdCkge1xuICAgICAgY29uc29sZS5sb2coYnJhbmNoTnVtKTtcbiAgICAgICQoJ1tkYXRhLXRvZ2dsZT1cImJyYW5jaCcgKyBicmFuY2hOdW0gKyAnXCJdJykuZmluZCgnLmJyYW5jaC1mbG9vcl9fbm90ZV9fbGlzdCcpLm5vdCgnLnNsaWNrLWluaXRpYWxpemVkJykuc2xpY2soX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBvcHRpb24pLCB7fSwge1xuICAgICAgICBhdXRvcGxheTogZmFsc2VcbiAgICAgIH0pKTtcbiAgICAgIG5vdGVJbml0ID0gdHJ1ZTtcbiAgICB9XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBjaGFuZ2VNYWxsKHRhYiwgaGFuZGxlKSB7XG4gICQoJ1tkYXRhLXRhYj1cIicgKyB0YWIgKyAnXCJdJykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xuICAkKCdbZGF0YS1jb250ZW50PVwiJyArIHRhYiArICdcIl0nKS5oaWRlKCk7XG4gICQoJ1tkYXRhLWhhbmRsZT1cIicgKyBoYW5kbGUgKyAnXCJdJykuYWRkQ2xhc3MoJ2FjdGl2ZScpO1xuICAkKCdbZGF0YS10b2dnbGU9XCInICsgaGFuZGxlICsgJ1wiXScpLnNob3coKTtcbn1cblxuZnVuY3Rpb24gYnJhbmNoU2VsZWN0KCkge1xuICB2YXIgJGxpc3QgPSAkKCcuYnJhbmNoLWxpc3QnKTtcbiAgdmFyICRzZWxlY3QgPSAkKCcuYnJhbmNoLWxpc3RfX3NlbGVjdCcpO1xuICB2YXIgJGRyb3AgPSAkKCcuYnJhbmNoLWxpc3RfX2Ryb3AnKTtcbiAgdmFyICRpdGVtID0gJCgnLmJyYW5jaC1saXN0X19pdGVtJyk7XG4gIHZhciAkbmFtZSA9ICQoJy5icmFuY2gtbGlzdF9fbmFtZScpO1xuICAkc2VsZWN0Lm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgICAkbGlzdC50b2dnbGVDbGFzcygnb3BlbicpO1xuICB9KTtcbiAgJGl0ZW0ub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgIC8vIHNlbGVjdCBpbiBwY1xuICAgICRpdGVtLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcbiAgICAkKHRoaXMpLmFkZENsYXNzKCdhY3RpdmUnKTsgLy8gc2VsZWN0IGluIHNwIFxuXG4gICAgdmFyIHZhbHVlID0gJCh0aGlzKS5maW5kKCRuYW1lKS50ZXh0KCk7XG4gICAgJGxpc3QucmVtb3ZlQ2xhc3MoJ29wZW4nKTtcbiAgICAkc2VsZWN0LnRleHQodmFsdWUpO1xuICB9KTtcbn1cblxuZnVuY3Rpb24gbWFnbmlmaWVyKCkge1xuICAkKCcudGh1bWInKS5tYWduaWZ5KHtcbiAgICBzcGVlZDogMjAwXG4gIH0pO1xufSAvLyBmdW5jdGlvbiBtZW51KCkge1xuLy8gICAkKCcuYnRuLW1lbnVfX2ljb24nKS5vbignY2xpY2sgdGFwJywgZnVuY3Rpb24oKSB7XG4vLyAgICAgJCh0aGlzKS5maW5kKCcubGluZScpLnJlbW92ZUNsYXNzKCdkaXNhYmxlQW5pbWF0aW9uJyk7XG4vLyAgICAgJCh0aGlzKS50b2dnbGVDbGFzcygnYWN0aXZlJyk7XG4vLyAgICAgJCgnaHRtbCcpLnRvZ2dsZUNsYXNzKCdtZW51LW9wZW4nKTtcbi8vICAgICBpZiAobWVudU9wZW4pIHtcbi8vICAgICAgICQoJy5zdWJtZW51LWhlYWRlcicpLnJlbW92ZUNsYXNzKCdvcGVuJylcbi8vICAgICB9XG4vLyAgICAgbWVudU9wZW4gPSAhbWVudU9wZW5cbi8vICAgICAvL2NvbnNvbGUubG9nKG1lbnVPcGVuKVxuLy8gICB9KTtcbi8vIH1cbi8vIGZ1bmN0aW9uIG9wZW5TdWJtZW51KCkge1xuLy8gICBsZXQgJGVsID0gJCgnW2RhdGEtdG9nZ2xlcz1cImNvbGxhcHNlXCJdJylcbi8vICAgaWYgKCFpc01vYmlsZSkge1xuLy8gICAgICQoJy5oYXMtc3ViLW1lbnUnKS5ob3ZlciAoXG4vLyAgICAgICBmdW5jdGlvbigpIHtcbi8vICAgICAgICAgJCh0aGlzKS5hZGRDbGFzcygnaG92ZXInKVxuLy8gICAgICAgfSxcbi8vICAgICAgIGZ1bmN0aW9uKCkge1xuLy8gICAgICAgICAkKHRoaXMpLnJlbW92ZUNsYXNzKCdob3ZlcicpXG4vLyAgICAgICB9XG4vLyAgICAgKVxuLy8gICB9IFxuLy8gICAkZWwub24oJ2NsaWNrJywgZnVuY3Rpb24oZSkge1xuLy8gICAgIGUucHJldmVudERlZmF1bHQoKVxuLy8gICAgIGlmICh2dyA8IDEyMDApIHtcbi8vICAgICAgIHZhciB0YXJnZXQgPSAkKHRoaXMpLmF0dHIoJ2hyZWYnKVxuLy8gICAgICAgJCh0aGlzKS50b2dnbGVDbGFzcygnZXhwYW5kZWQnKVxuLy8gICAgICAgJCh0YXJnZXQpLnRvZ2dsZUNsYXNzKCdvcGVuJylcbi8vICAgICAgICQodGFyZ2V0KS5maW5kKCcuc3ViLW1lbnUnKS5yZW1vdmVDbGFzcygnb3BlbicpXG4vLyAgICAgICAkKHRhcmdldCkuZmluZCgnLmljb24tZG93bi1hcnJvdycpLnJlbW92ZUNsYXNzKCdleHBhbmRlZCcpXG4vLyAgICAgfSBcbi8vICAgfSk7XG4vLyB9XG4vLyBmdW5jdGlvbiBtZW51U2Nyb2xsKCkge1xuLy8gICB3aW5Qb3MgPj0gNTdcbi8vICAgICA/ICQoJ2h0bWwnKS5hZGRDbGFzcygnbWVudS1maXhlZCcpXG4vLyAgICAgOiAkKCdodG1sJykucmVtb3ZlQ2xhc3MoJ21lbnUtZml4ZWQnKSBcbi8vIH1cblxuXG5mdW5jdGlvbiBzbW9vdGhTY3JvbGwoKSB7XG4gIHZhciBvZmZzZXQgPSA3MztcbiAgJCgnYVtocmVmXj1cIiNcIl0nKS5vbihcImNsaWNrXCIsIGZ1bmN0aW9uIChlKSB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIHZ3IDw9IDExOTkgPyBvZmZzZXQgPSA1OCA6IG9mZnNldCA9IDczO1xuICAgIHZhciBoID0gJCh0aGlzKS5hdHRyKFwiaHJlZlwiKTtcbiAgICB2YXIgdCA9ICQoaCA9PSBcIiNcIiB8fCBoID09PSBcIlwiID8gJ2JvZHknIDogaCk7XG4gICAgdmFyIHAgPSB0Lm9mZnNldCgpLnRvcCAtIG9mZnNldDtcbiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICQoJ2h0bWwsYm9keScpLmFuaW1hdGUoe1xuICAgICAgICBzY3JvbGxUb3A6IHBcbiAgICAgIH0sIDUwMCk7XG4gICAgfSwgMTApO1xuICAgIHJldHVybiBmYWxzZTtcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIHN0aWNreVNjcm9sbCgpIHtcbiAgdmFyIHN0aWNreVBvcyA9IHN0aWNreS5vZmZzZXQoKS50b3A7IC8vY29uc29sZS5sb2coc3RpY2t5UG9zKVxuXG4gIGlmIChzdGlja3lIZWlnaHQgKyBzdGlja3lQb3MgPj0gZm9vdGVyUG9zKSB7XG4gICAgc3RpY2t5LmNzcyh7XG4gICAgICBvcGFjaXR5OiAwLFxuICAgICAgekluZGV4OiAtMVxuICAgIH0pO1xuICB9IGVsc2Uge1xuICAgIHN0aWNreS5jc3Moe1xuICAgICAgb3BhY2l0eTogMSxcbiAgICAgIHpJbmRleDogMTFcbiAgICB9KTtcbiAgfVxufVxuXG5mdW5jdGlvbiB1cGRhdGUoKSB7XG4gIHZ3ID0gJCh3aW5kb3cpLndpZHRoKCk7XG4gIGZvb3RlclBvcyA9ICQoJy5mb290ZXInKS5vZmZzZXQoKS50b3A7XG59IC8vIHVwZGF0ZSB2YXJpYWJsZSB3aGVuIHJlc2l6ZVxuXG5cbiQoZnVuY3Rpb24gKCkge1xuICBzbGlkZSgpO1xuICBicmFuY2goKTtcbiAgbWFnbmlmaWVyKCk7IC8vbWVudSgpXG5cbiAgYnJhbmNoU2VsZWN0KCk7XG4gIHNtb290aFNjcm9sbCgpOyAvL29wZW5TdWJtZW51KClcbn0pO1xuJCh3aW5kb3cpLm9uKCdsb2FkJywgZnVuY3Rpb24gKCkge1xuICBmb290ZXJQb3MgPSAkKCcuZm9vdGVyJykub2Zmc2V0KCkudG9wO1xufSk7XG4kKHdpbmRvdykub24oJ3Jlc2l6ZScsIGZ1bmN0aW9uICgpIHtcbiAgdXBkYXRlKCk7XG59KTtcbiQod2luZG93KS5vbignc2Nyb2xsJywgZnVuY3Rpb24gKCkge1xuICAvL3dpblBvcyA9IHdpbmRvdy5wYWdlWU9mZnNldFxuICAvL21lbnVTY3JvbGwoKVxuICBzdGlja3lTY3JvbGwoKTtcbn0pOyJdfQ==
},{}]},{},[1])